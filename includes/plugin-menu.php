<?php

// Block If Accessed Directly
if(!defined('ABSPATH')){
	exit;
}

// Create custom plugin settings menu
function raek_plugin_menu(){
	// Create new top-level menu
	$raek_base64_icon = 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzOTUuOSA0NDEuNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzk1LjkgNDQxLjc7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtkaXNwbGF5Om5vbmU7fQ0KCS5zdDF7ZmlsbDojYTdhYWFkO30NCjwvc3R5bGU+DQo8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMzk1LjkiIGhlaWdodD0iNDQxLjciLz4NCjxnIGlkPSJSQUVLX0ljb24iPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGZpbGw9ImJsYWNrIiBkPSJNMjM4LDc2LjNjMy4zLDEuOSw3LjQsMS45LDExLDAuNWM1LjYtMiwxMS40LTEuMSwxNy4xLTAuMWMxMCw0LjIsMTYuNiwxMS41LDE5LjUsMjINCgkJYzEuNCwxMi0yLjgsMjEuOC0xMS44LDI5LjZjMCwwLDAsMCwwLDBjLTEuNiwxLTEsMi43LTEsNC4xYzAsMzQuMywwLDY4LjcsMCwxMDNjMCwwLjgsMCwxLjcsMCwzLjRjOC45LTQuOSwxNy43LTkuNCwyNi0xNA0KCQljMS4zLTAuNywxLjgtMi4zLDEuNC0zLjhjLTEuOS02LjUtMC44LTEzLjcsMS4zLTE5LjVjMS43LTQuNyw0LjktOC43LDguOS0xMS44YzIuOS0yLjIsNi4xLTQsOS44LTQuOGMyLjUtMC42LDIuOC0yLjEsMi44LTQuMg0KCQljLTAuMS0xNS43LTAuMi0zMS41LTAuMy00Ny4yYzAuMS0xNS45LDAuMi0zMS44LDAuMi00Ny43YzAsMCwwLTEuMy0wLjgtNS41Yy0xLjgtMTEuOS05LjEtMjAuNC0xOS4xLTI2LjMNCgkJYy0yOC4xLTE2LjUtNTYuMy0zMi45LTg0LjYtNDguOWMtMTMuOC03LjgtMjUuNy01LjgtNDAuOCwyLjNjLTAuOSwwLjUtMS45LDAuOS0yLjgsMS40Yy05LjYsNS0xOC45LDEwLjMtMjksMTYuMQ0KCQljMjQuOCwxMy45LDQ1LjIsMjUuNCw3MS43LDM5LjZDMjI0LjQsNjguMSwyMzEuMiw3Mi4zLDIzOCw3Ni4zeiBNMzIxLjcsMTMxLjJjMCwwLjMsMCwwLjYsMCwwLjljLTAuMS0wLjEtMC4yLTAuMS0wLjMtMC4yDQoJCUMzMjEuNSwxMzEuOCwzMjEuNiwxMzEuNSwzMjEuNywxMzEuMnoiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBmaWxsPSJibGFjayIgZD0iTTk0LDExNGMzLjQtMS45LDUuMy01LjUsNS45LTkuM2MxLTUuOCw0LjctMTAuNCw4LjQtMTQuOWMwLDAsMCwwLDAsMGM4LjYtNi42LDE4LjItOC43LDI4LjctNmwwLDANCgkJYzExLjEsNC43LDE3LjUsMTMuMiwxOS45LDI0LjljMCwwLDAsMCwwLDBjMC4xLDEuOSwxLjgsMi4yLDMsMi45YzI5LjgsMTcsNTkuNywzNCw4OS41LDUxYzAuNywwLjQsMS40LDAuOCwyLjksMS43DQoJCWMwLjItMTAuMSwwLjUtMjAsMC43LTI5LjZjMC0xLjUtMS4xLTIuNy0yLjYtMy4xYy00LjYtMS4xLTguOC0zLjctMTIuMy02LjdjLTYuNS01LjYtMTAuMy0xNC0xMC4xLTIyLjZjMC4xLTEuOSwwLjMtMy45LDAuOS01LjgNCgkJYzAuNy0yLjQtMC41LTMuNS0yLjMtNC41Yy0xMy43LTcuNy0yNy40LTE1LjQtNDEuMS0yMy4xYy0xMy44LTcuOS0yNy42LTE1LjktNDEuNC0yMy44YzAsMC0xLjEtMC43LTUuMi0yLjENCgkJYy0xMS4yLTQuNC0yMi4zLTIuMi0zMi4zLDMuNkM3OC40LDYyLjcsNTAuMiw3OS4xLDIyLjMsOTUuOEM4LjYsMTAzLjksNC41LDExNS4yLDQsMTMyLjRjMCwxLTAuMSwyLjEtMC4yLDMuMQ0KCQljLTAuNCwxMC45LTAuNCwyMS41LTAuNCwzMy4xYzAsMCwwLDAsMCwwQzI3LjgsMTU0LDQ3LjksMTQyLDczLjQsMTI2QzgwLjEsMTIxLjgsODcuMSwxMTgsOTQsMTE0eiBNMTgzLjksNjkNCgkJYy0wLjEsMC0wLjIsMC4xLTAuMywwLjFjLTAuMS0wLjItMC4zLTAuNC0wLjUtMC42QzE4My40LDY4LjcsMTgzLjcsNjguOSwxODMuOSw2OXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBmaWxsPSJibGFjayIgZD0iTTE1OS42LDIxOC4zYy00LDI2LjIsMTguMiw0OC41LDQ0LjQsNDQuNGMxNi4zLTIuNSwyOS43LTE1LjksMzIuMi0zMi4yYzQtMjYuMi0xOC4yLTQ4LjQtNDQuNC00NC40DQoJCUMxNzUuNSwxODguNiwxNjIuMSwyMDIsMTU5LjYsMjE4LjN6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZmlsbD0iYmxhY2siIGQ9Ik04MC41LDIwMi41QzgwLjUsMjAyLjUsODAuNSwyMDIuNSw4MC41LDIwMi41YzEuNywwLjksMi45LTAuNCw0LjEtMS4xYzMwLTE2LjgsNTkuOS0zMy42LDg5LjktNTAuNA0KCQljMC43LTAuNCwxLjQtMC44LDMtMS42Yy04LjYtNS40LTE2LjktMTAuOC0yNS0xNS45Yy0xLjMtMC44LTIuOS0wLjUtMy45LDAuNmMtNC4zLDQuNC0xMC4zLDYuOS0xNS45LDguMQ0KCQljLTYuNSwxLjQtMTMuMywwLjItMTkuMS0zLjFjLTIuMy0xLjItNC40LTIuOC02LjItNC44Yy0xLjctMS45LTMuMi0xLjQtNS4xLTAuNGMtMTMuNyw3LjgtMjcuNCwxNS41LTQxLjEsMjMuMw0KCQljLTEzLjksNy43LTI3LjksMTUuNC00MS43LDIzLjFjMCwwLTEuMiwwLjYtNC41LDMuNGMtOS41LDcuNC0xMy40LDE4LTEzLjYsMjkuNUMwLjYsMjQ2LDAuMSwyNzguNiwwLDMxMS4yDQoJCWMwLDE1LjksNy41LDI1LjMsMjIsMzQuNWMwLjksMC42LDEuNywxLjIsMi42LDEuOGM5LjEsNiwxOC4yLDExLjQsMjguMiwxNy40YzAtMjkuOCwwLjEtNTQuMS0wLjYtODYuNGMtMC4xLTYuMiwwLjItMTIuNCwwLjQtMTguNQ0KCQljMC4yLTQuMy0wLjUtNy4zLTMuOS05LjljLTUuMi0zLjktNy40LTkuOC05LjUtMTUuN2MtMS4yLTEwLjgsMS45LTIwLjEsOS42LTI3LjdDNTguNywxOTkuNiw2OS4yLDE5OC41LDgwLjUsMjAyLjV6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZmlsbD0iYmxhY2siIGQ9Ik0xNTcuOCwzNjUuMmMtMy4zLTItNy4zLTEuOS0xMS0wLjZjLTUuNiwyLTExLjQsMS0xNy4xLDBjLTEwLTQuMy0xNi41LTExLjYtMTkuMy0yMi4xDQoJCWMtMS4zLTEyLDIuOS0yMS43LDEyLTI5LjVjMCwwLDAsMCwwLDBjMS42LTEsMS4xLTIuNywxLjEtNC4xYzAuMy0zNC4zLDAuNS02OC43LDAuNy0xMDNjMC0wLjgsMC0xLjcsMC4xLTMuNA0KCQljLTguOSw0LjgtMTcuNyw5LjMtMjYuMiwxMy45Yy0xLjMsMC43LTEuOCwyLjMtMS40LDMuN2MxLjYsNS45LDAuOSwxMi40LTAuOCwxNy45Yy0yLDYuMy02LjQsMTEuNi0xMi4xLDE1LjENCgkJYy0yLjIsMS40LTQuNiwyLjUtNy4zLDNjLTIuNSwwLjUtMi44LDIuMS0yLjgsNC4yYzAsMTUuNy0wLjEsMzEuNS0wLjEsNDcuMmMtMC4yLDE1LjktMC40LDMxLjgtMC42LDQ3LjdjMCwwLDAsMS4zLDAuOCw1LjYNCgkJYzEuNywxMS45LDksMjAuNSwxOC45LDI2LjRjMjgsMTYuNyw1NiwzMy4zLDg0LjMsNDkuNWMxMy44LDcuOSwyNS42LDYsNDAuOS0yYzAuOS0wLjUsMS45LTAuOSwyLjgtMS40YzkuNy01LDE4LjktMTAuMiwyOS4xLTE1LjkNCgkJYy0yNC43LTE0LjEtNDUtMjUuOC03MS40LTQwLjFDMTcxLjMsMzczLjUsMTY0LjYsMzY5LjIsMTU3LjgsMzY1LjJ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZmlsbD0iYmxhY2siIGQ9Ik0zMDIuNCwzMjguNWMtMy40LDEuOS01LjQsNS40LTYuMSw5LjJjLTEuMSw1LjgtNC44LDEwLjQtOC42LDE0LjhjLTguNyw2LjUtMTguMyw4LjQtMjguOCw1LjUNCgkJYy0xMS00LjktMTcuMy0xMy41LTE5LjQtMjUuM2MwLDAsMCwwLDAsMGMtMC4xLTEuOS0xLjgtMi4zLTMtM2MtMjYuOS0xNi01My45LTMyLjEtODAuOS00OC4xdjMxYzEuNSwxLjEsMi45LDIuMyw0LjIsMy41DQoJCWM2LjEsNiw5LjEsMTQuMyw4LjMsMjIuOGMtMC4xLDEuNS0wLjQsMy4xLTAuOSw0LjZjLTAuOCwyLjQsMC40LDMuNSwyLjIsNC42YzEzLjYsOCwyNy4xLDE1LjksNDAuNywyMy45DQoJCWMxMy42LDguMiwyNy4zLDE2LjQsNDAuOSwyNC42YzAsMCwxLjEsMC43LDUuMiwyLjJjMTEuMiw0LjYsMjIuMiwyLjYsMzIuNC0zYzI4LjYtMTUuNyw1Ny0zMS41LDg1LjMtNDcuOA0KCQljMTMuOC03LjksMTguMS0xOS4xLDE4LjktMzYuM2MwLTEsMC4xLTIuMSwwLjItMy4xYzAuNi0xMC45LDAuOC0yMS41LDEtMzMuMWMtMjQuNiwxNC4yLTQ1LDI1LjgtNzAuNyw0MS40DQoJCUMzMTYuNCwzMjEsMzA5LjMsMzI0LjcsMzAyLjQsMzI4LjV6Ii8+DQoJPHBhdGggY2xhc3M9InN0MSIgZmlsbD0iYmxhY2siIGQ9Ik0zNzMuNyw5Ny44Yy0wLjktMC42LTEuOC0xLjItMi42LTEuOGMtOS4xLTUuOS0xOC4zLTExLjMtMjguMy0xNy4zYzAuMiwyOS44LDAuMiw1NC4xLDEuMSw4Ni40DQoJCWMwLjIsNi4yLTAuMSwxMi40LTAuMywxOC41Yy0wLjIsNC4zLDAuNSw3LjMsNCw5LjhjNS4yLDMuOSw3LjUsOS43LDkuNiwxNS42YzEuMywxMC44LTEuOCwyMC4xLTkuNSwyNy44DQoJCWMtOS43LDcuMS0yMC4zLDguMy0zMS42LDQuNGMwLDAsMCwwLDAsMGMtMS43LTAuOS0yLjksMC40LTQuMSwxLjFjLTI3LjMsMTUuNS01NC42LDMxLTgxLjgsNDYuNWwyNi4zLDE1LjcNCgkJYzEuOS0wLjksMy45LTEuNyw1LjgtMi4yYzguMi0yLjMsMTctMC44LDIzLjksNC4xYzEuMywwLjksMi40LDEuOSwzLjUsMy4xYzEuNywxLjksMy4zLDEuNCw1LjEsMC4zYzEzLjYtNy45LDI3LjMtMTUuNyw0MC45LTIzLjUNCgkJYzEzLjktNy44LDI3LjgtMTUuNSw0MS42LTIzLjRjMCwwLDEuMi0wLjYsNC40LTMuNGM5LjUtNy40LDEzLjMtMTgsMTMuNC0yOS42YzAuNS0zMi42LDAuOC02NS4yLDAuNy05Ny43DQoJCUMzOTUuOCwxMTYuMywzODguMywxMDcsMzczLjcsOTcuOHoiLz4NCjwvZz4NCjwvc3ZnPg0K';

	$raek_top_menu_icon = 'data:image/svg+xml;base64,' . $raek_base64_icon;
	add_menu_page('RAEK Dashboard', 'RAEK', 'administrator', 'raek', 'raek_page_dashboard', $raek_top_menu_icon);
	// add_menu_page('RAEK Dashboard', 'RAEK', 'administrator', 'raek', 'raek_page_dashboard', RAEK_PLUGIN_URL . '/assets/images/raek-icon.png');

	// Add submenu
	add_submenu_page('raek', 'RAEK Dashboard', 'Dashboard', 'administrator', 'raek', 'raek_page_dashboard');

	// If Initial Plugin Setup Is Not Complete Limit Pages
	$raek_plugin_setup = get_option('raek_plugin_setup');
	if($raek_plugin_setup == true){
		add_submenu_page('raek', 'RAEK Settings', 'Settings', 'administrator', 'raek-settings', 'raek_page_settings');
		add_submenu_page('raek', 'RAEK Help', 'Help', 'administrator', 'raek-help', 'raek_page_help');
	}
}

// Add Settings Link to Plugin Management Page
function raek_plugin_action_links($actions){
   $actions[] = '<a href="'. esc_url(admin_url('/admin.php?page=raek-settings')) .'">Settings</a>';
   return $actions;
}
add_filter('plugin_action_links_' . RAEK_PLUGIN_NAME, 'raek_plugin_action_links');

?>
